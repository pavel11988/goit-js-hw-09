{"version":3,"sources":["js/03-promises.js"],"names":["form","document","querySelector","position","timerId","onButtonCreate","event","preventDefault","delay","currentTarget","elements","value","step","amount","setInterval","setTimeout","createPromise","then","console","log","catch","clearInterval","promise","Promise","reslove","reject","Math","random","addEventListener"],"mappings":";AAAA,MAAMA,EAAOC,SAASC,cAAc,SACpC,IAAIC,EAAW,EACXC,EAAU,KAId,SAASC,EAAeC,GACtBA,EAAMC,iBACFC,IAAAA,GAASF,EAAMG,cAAcC,SAASF,MAAMG,MAC1CC,MAAAA,GAAQN,EAAMG,cAAcC,SAASE,KAAKD,MAC1CE,GAAUP,EAAMG,cAAcC,SAASG,OAAOF,MAGpDP,EAAUU,YAAY,MAEpBX,GAAY,IACIU,EAAO,GAEvBE,WAAW,IAAMP,GAASI,GAE1BI,EAAcb,EAAUK,GACrBS,KAAK,EAAEd,SAAAA,EAAUK,MAAAA,KAAWU,QAAQC,2BAA2BhB,QAAeK,QAC9EY,MAAM,EAAEjB,SAAAA,EAAUK,MAAAA,KAAWU,QAAQC,0BAA0BhB,QAAeK,SANtDa,cAAcjB,IAOzCQ,GAIJ,SAASI,EAAcb,EAAUK,GAYxBc,OAXS,IAAIC,QAAQ,CAACC,EAAUC,KAErCX,YAAY,KACYY,KAAKC,SAAW,GAEpBH,EAAQ,CAACrB,SAAAA,EAAUK,MAAAA,IAChCiB,EAAO,CAACtB,SAAAA,EAAUK,MAAAA,KAErBA,KAhCRR,EAAK4B,iBAAiB,SAAUvB","file":"03-promises.0cddcdb5.js","sourceRoot":"../src","sourcesContent":["const form = document.querySelector('.form');\nlet position = 0;\nlet timerId = null;\n\nform.addEventListener('submit', onButtonCreate);\n\nfunction onButtonCreate(event) {\n  event.preventDefault();\n  let delay = +event.currentTarget.elements.delay.value;\n  const step = +event.currentTarget.elements.step.value;\n  const amount = +event.currentTarget.elements.amount.value;\n\n\n  timerId = setInterval(() => {\n\n    position += 1;  \n    if (position == amount+1) {clearInterval(timerId); return}\n\n    setTimeout(() => delay += step) \n\n    createPromise(position, delay)\n      .then(({position, delay}) => console.log(`✅ Fulfilled promise ${position} in ${delay}ms`))\n      .catch(({position, delay}) => console.log(`❌ Rejected promise ${position} in ${delay}ms`))\n  },step)\n} \n\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((reslove , reject) => {\n   \n    setInterval(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      if(shouldResolve) reslove({position, delay});\n      else reject({position, delay});\n\n      },delay);\n  })\n\n  return promise;\n}  \n\n"]}